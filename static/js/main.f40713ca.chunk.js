(this["webpackJsonpcanvas-laboratory"]=this["webpackJsonpcanvas-laboratory"]||[]).push([[0],{41:function(e,t,i){},42:function(e,t,i){},47:function(e,t,i){"use strict";i.r(t);var a=i(18),n=i(0),l=i.n(n),r=i(14),c=i.n(r),h=(i(41),i(32)),o=i(36),s=i(35),d=i(28),b=i(31),g=i(15),f=i(34),u=i(29),j=i(24),x=i(16),p=i(19),v=i(33),y=i(30),O=i(12),w=(i(42),i(3));function m(e){var t=e.label,i=e.ariaLabel,a=e.number,n=e.onChange;return Object(w.jsxs)(j.a,{className:"inputs",children:[Object(w.jsx)(j.a.Prepend,{children:Object(w.jsx)(j.a.Text,{id:"basic-addon2",children:t})}),Object(w.jsx)(p.a,{disabled:!1,type:"number",onChange:function(e){n(e)},value:a,"aria-label":i})]})}var C=function(e){Object(o.a)(i,e);var t=Object(s.a)(i);function i(e){var n;return Object(a.a)(this,i),(n=t.call(this,e)).state={french:!1},n}return Object(h.a)(i,[{key:"componentDidMount",value:function(){var e=navigator.language||navigator.userLanguage;this.setState({french:"fr"===e})}},{key:"getProps",value:function(e){var t={};return Object.assign(t,this.props),Object.assign(t,e),t}},{key:"render",value:function(){var e=this,t=this.state.french,i=this.props,a=i.ballX,n=i.ballY,l=i.ballRadius,r=i.rectX,c=i.rectY,h=i.rectWidth,o=i.rectHeight,s=i.updateProps;return Object(w.jsxs)("div",{id:"app",children:[Object(w.jsxs)(g.a,{bg:"light",expand:"lg",children:[Object(w.jsx)(g.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(w.jsxs)(g.a.Collapse,{id:"basic-navbar-nav",children:[Object(w.jsx)(g.a.Brand,{children:Object(w.jsx)(d.a,{id:"langBtn",variant:t?"warning":"light",onClick:function(){e.setState({french:!0})},children:Object(w.jsx)(u.a,{src:"./frFlag.png",fluid:!0})})}),Object(w.jsx)(g.a.Brand,{children:Object(w.jsx)(d.a,{id:"langBtn",variant:t?"light":"warning",onClick:function(){e.setState({french:!1})},children:Object(w.jsx)(u.a,{src:"./brFlag.png",fluid:!0})})}),Object(w.jsx)(f.a.Link,{href:"#",children:"Learn more"})]})]}),Object(w.jsx)("div",{id:"header",children:Object(w.jsx)("h1",{children:"Canvas laboratory"})}),Object(w.jsx)("div",{id:"gamePanel",children:Object(w.jsxs)(v.a,{fluid:!0,children:[Object(w.jsxs)(y.a,{id:"initRow",children:[Object(w.jsx)(O.a,{children:Object(w.jsx)(x.a,{onSubmit:function(e){e.preventDefault()},children:Object(w.jsxs)(x.a.Group,{children:[Object(w.jsx)(m,{label:"Ball X",ariaLabel:"ball horizontal position",onChange:function(t){s(e.getProps({ballX:parseInt(t.target.value,10)}))},number:a}),Object(w.jsx)(m,{label:"Ball Y",ariaLabel:"ball vertical position",onChange:function(t){s(e.getProps({ballY:parseInt(t.target.value,10)}))},number:n}),Object(w.jsx)(m,{label:"Ball radius",ariaLabel:"ball radius",onChange:function(t){s(e.getProps({ballRadius:parseInt(t.target.value,10)}))},number:l})]})})}),Object(w.jsx)(O.a,{children:Object(w.jsx)(x.a,{onSubmit:function(e){e.preventDefault()},children:Object(w.jsxs)(x.a.Group,{children:[Object(w.jsx)(m,{label:"Rectangle X",ariaLabel:"rectangle horizontal position",onChange:function(t){s(e.getProps({rectX:parseInt(t.target.value,10)}))},number:r}),Object(w.jsx)(m,{label:"Rectangle Y",ariaLabel:"rectangle vertical position",onChange:function(t){s(e.getProps({rectY:parseInt(t.target.value,10)}))},number:c}),Object(w.jsx)(m,{label:"Rectangle width",ariaLabel:"rectangle width",onChange:function(t){s(e.getProps({rectWidth:parseInt(t.target.value,10)}))},number:h}),Object(w.jsx)(m,{label:"Rectangle height",ariaLabel:"rectangle height",onChange:function(t){s(e.getProps({rectHeight:parseInt(t.target.value,10)}))},number:o})]})})})]}),Object(w.jsxs)(y.a,{children:[Object(w.jsx)(O.a,{children:Object(w.jsxs)(b.a,{class:"jumbotron",children:[Object(w.jsxs)("p",{children:["Left side of a circle :",Object(w.jsx)("b",{children:" ball X - ball radius = "}),a-l]}),Object(w.jsxs)("p",{children:["Right side of a circle :",Object(w.jsx)("b",{children:" ball X + ball radius = "}),a+l]}),Object(w.jsxs)("p",{children:["Top side of a circle :",Object(w.jsx)("b",{children:" ball Y - ball radius = "}),n-l]}),Object(w.jsxs)("p",{children:["Bottom side of a circle :",Object(w.jsx)("b",{children:" ball Y + ball radius = "}),n+l]})]})}),Object(w.jsx)(O.a,{children:Object(w.jsxs)(b.a,{class:"jumbotron",children:[Object(w.jsxs)("p",{children:["Right side of a rectangle :",Object(w.jsx)("b",{children:" rect X + rect width = "}),r+h]}),Object(w.jsxs)("p",{children:["Bottom side of a rectangle :",Object(w.jsx)("b",{children:" rect Y + rect height = "}),c+o]}),Object(w.jsxs)("p",{children:["Horizontal center of a rectangle :",Object(w.jsx)("b",{children:" rect X + rect width / 2 = "}),r+h/2]}),Object(w.jsxs)("p",{children:["Vertical center of a rectangle :",Object(w.jsx)("b",{children:" rect Y + rect height / 2 = "}),c+o/2]})]})})]})]})})]})}}]),i}(l.a.Component);C.defaultProps={};var L="rect",X="circle",Y=function e(t,i,n,l,r,c){Object(a.a)(this,e),this.x=t,this.y=i,this.width=n,this.height=l,this.color=r,this.shape=c,this.dragged=!1,this.hovered=!1,this.dragOffsetX=0,this.dragOffsetY=0,this.collided=!1},S="#FFFFFF",R="#000000",P="#f33d03",k="#025496",T="#673ab7",A=new Y(200,500,400,100,"#c32b20",L),B=new Y(400,450,20,20,"#4caf50",X),F=[A,B],I=!1,W=!1,M=document.querySelector("canvas"),E=M.getContext("2d");function H(){c.a.render(Object(w.jsx)(l.a.StrictMode,{children:Object(w.jsx)(C,{ballX:B.x,ballY:B.y,ballRadius:B.width,rectX:A.x,rectY:A.y,rectWidth:A.width,rectHeight:A.height,updateProps:function(e){B.x=e.ballX,B.y=e.ballY,B.width=e.ballRadius,B.height=e.ballRadius,B.color=e.ballColor,A.x=e.rectX,A.y=e.rectY,A.width=e.rectWidth,A.height=e.rectHeight,A.color=e.rectColor,H()}})}),document.getElementById("root"))}function q(e,t){var i=M.getBoundingClientRect(),a=e.clientX-i.x,n=e.clientY-i.y;t.dragged=!0,t.dragOffsetX=a-t.x,t.dragOffsetY=n-t.y}function z(e,t){t.hovered=!0}function D(e,t){t.hovered=!1}function G(e){if("mousemove"===e.type)!function(e){for(var t=0;t<F.length;t++){var i=F[t];if(i.dragged){var a=M.getBoundingClientRect(),n=e.clientX-a.x,l=e.clientY-a.y;i.x=n-i.dragOffsetX,i.y=l-i.dragOffsetY,H()}}}(e);else if("mouseup"===e.type)return void function(){for(var e=0;e<F.length;e++){var t=F[e];t.dragged&&(t.dragged=!1)}}();for(var t=!1,i=F.length-1;i>=0;i--){var a=F[i],n=M.getBoundingClientRect(),l=e.clientX-n.x,r=e.clientY-n.y;(a.shape===L?l>a.x&&l<a.x+a.width&&r>a.y&&r<a.y+a.height:l>a.x-a.width&&l<a.x+a.width&&r>a.y-a.height&&r<a.y+a.height)?(e.targetX=l,e.targetY=r,t||"mousedown"!==e.type?"mousemove"===e.type&&(a.hovered||z(0,a)):(q(e,a),t=!0)):"mousemove"===e.type&&a.hovered&&D(0,a)}}function J(e,t,i,a,n){E.globalAlpha=n,E.beginPath(),E.strokeStyle=R,E.moveTo(e,t),E.lineTo(i,a),E.stroke()}function N(e){if(E.globalAlpha=.9,E.fillStyle=P,E.beginPath(),E.arc(e.x,e.y,5,0,2*Math.PI),E.fill(),W){var t=6*Math.exp(e.width/400);E.font="".concat(t,"pt Arial");var i="x:".concat(e.x),a="y:".concat(e.y),n=E.measureText(i).width,l=E.measureText(a).width,r=t,c=e.x>=Math.max(n,l)+10&&e.y>=2*r+30;E.fillStyle=c?P:"#000000",E.lineWidth=.5,E.fillText(i,c?e.x-n-10:e.x+10,c?e.y-2*r-10:e.y+r+10),E.fillText(a,c?e.x-l-10:e.x+10,c?e.y-r:e.y+2*r+20),E.lineWidth=1}}function V(e){E.globalAlpha=1,E.strokeStyle=k,E.strokeRect(e.x,e.y,e.width,e.height)}function K(e){var t=6*Math.exp(e.width/400);E.globalAlpha=1,E.font="".concat(t,"pt Arial"),E.fillStyle=k;var i=e.width,a=E.measureText(i).width,n=t;E.strokeStyle="#000000",E.lineWidth=.5,E.fillText(i,e.x>=a+10?e.x-a-10:e.x+e.width+10,e.y+e.height/2+n/2);var l=e.height,r=t,c=E.measureText(l).width;E.fillText(l,e.x+e.width/2-c/2,e.y>=r+10?e.y-10:e.y+e.height+r+10),E.lineWidth=1}function Q(e){e.shape===L?(E.globalAlpha=.9,E.fillStyle=e.collided?T:e.color,E.fillRect(e.x,e.y,e.width,e.height),e.hovered&&(V({x:e.x,y:e.y,width:e.width,height:e.height}),I&&K({x:e.x,y:e.y,width:e.width,height:e.height}),N({x:e.x,y:e.y,width:e.width,height:e.height}))):(E.globalAlpha=.9,E.fillStyle=e.color,E.beginPath(),E.arc(e.x,e.y,e.width,0,2*Math.PI),E.fill(),e.hovered&&(V({x:e.x-e.width,y:e.y-e.height,width:2*e.width,height:2*e.height}),I&&K({x:e.x-e.width,y:e.y-e.height,width:2*e.width,height:2*e.height}),N({x:e.x,y:e.y,width:2*e.width,height:2*e.height})))}M.addEventListener("mousedown",G),M.addEventListener("mouseup",G),M.addEventListener("mousemove",G),window.addEventListener("keydown",(function(e){"ShiftLeft"===e.code?I=!0:"ControlLeft"===e.code&&(W=!0)})),window.addEventListener("keyup",(function(e){"ShiftLeft"===e.code?I=!1:"ControlLeft"===e.code&&(W=!1)})),requestAnimationFrame((function e(){E.globalAlpha=1,E.clearRect(0,0,800,600),E.globalAlpha=1,E.fillStyle=S,E.fillRect(0,0,800,600),function(){for(var e=M.width/10,t=M.height/10,i=!1,a=0;a<t;a++)if(i=a%10===0,J(0,10*a,M.width,10*a,i?1:.1),i){E.font="".concat(5,"pt Arial"),E.fillStyle=R;var n=10*a;E.fillText(n,5,10*a+5+5)}for(var l=0;l<e;l++)if(i=l%10===0,J(10*l,0,10*l,M.height,l%10===0?1:.1),l>0&&i){E.font="".concat(5,"pt Arial"),E.fillStyle=R;var r=10*l;E.fillText(r,10*l+5,10)}}(),function(){for(var e=0;e<F.length;e++){for(var t=F[e],i=!1,a=0;a<F.length;a++){var n=F[a];if(t!==n){var l=t.shape===L?t.x:t.x-t.width,r=t.x+t.width,c=t.shape===L?t.y:t.y-t.height,h=t.y+t.height,o=n.shape===L?n.x:n.x-n.width,s=n.x+n.width,d=n.shape===L?n.y:n.y-n.height,b=n.y+n.height;if(l<s&&r>o&&c<b&&h>d){i=!0;break}}}t.collided=i}}(),function(){for(var e=0;e<F.length;e++)Q(F[e])}(),requestAnimationFrame(e)})),H()}},[[47,1,2]]]);
//# sourceMappingURL=main.f40713ca.chunk.js.map