(this["webpackJsonpcanvas-laboratory"]=this["webpackJsonpcanvas-laboratory"]||[]).push([[0],{29:function(e,t,i){},30:function(e,t,i){},35:function(e,t,i){"use strict";i.r(t);var r=i(11),n=i(0),c=i.n(n),l=i(19),a=i.n(l),h=(i(29),i(20)),s=i(24),o=i(23),d=i(22),b=i(13),j=i(7),u=i(12),x=i(21),g=i(17),f=i(9),p=(i(30),i(1));function O(e,t){var i=e.x-e.width,r=e.x+e.width,n=e.y-e.height,c=e.y+e.height,l=t.x,a=t.x+t.width,h=t.y,s=t.y+t.height;return i<a&&r>l&&n<s&&c>h}var y=[{label:" --- Select a formula --- ",render:function(){return Object(p.jsx)("p",{})}},{label:"Left side of a circle",render:function(e,t,i){return Object(p.jsxs)("p",{children:[Object(p.jsx)("b",{children:" circle X - circle radius"}),Object(p.jsx)("br",{}),Object(p.jsxs)("b",{children:[" ",e," ","-"," ",i," ","="," ",e-i]})]})}},{label:"Right side of a circle",render:function(e,t,i){return Object(p.jsxs)("p",{children:[Object(p.jsx)("b",{children:" circle X + circle radius"}),Object(p.jsx)("br",{}),Object(p.jsxs)("b",{children:[" ",e," ","+"," ",i," ","="," ",e+i]})]})}},{label:"Top side of a circle",render:function(e,t,i){return Object(p.jsxs)("p",{children:[Object(p.jsx)("b",{children:" circle Y - circle radius"}),Object(p.jsx)("br",{}),Object(p.jsxs)("b",{children:[" ",t," ","-"," ",i," ","="," ",t-i]})]})}},{label:"Bottom side of a circle",render:function(e,t,i){return Object(p.jsxs)("p",{children:[Object(p.jsx)("b",{children:" circle Y + circle radius"}),Object(p.jsx)("br",{}),Object(p.jsxs)("b",{children:[" ",t," ","+"," ",i," ","="," ",t+i]})]})}},{label:"Right side of a rectangle",render:function(e,t,i,r,n,c){return Object(p.jsxs)("p",{children:[Object(p.jsx)("b",{children:" rect X + rect width"}),Object(p.jsx)("br",{}),Object(p.jsxs)("b",{children:[" ",r," ","+"," ",c," ","="," ",r+c]})]})}},{label:"Bottom side of a rectangle",render:function(e,t,i,r,n,c,l){return Object(p.jsxs)("p",{children:[Object(p.jsx)("b",{children:" rect Y + rect height"}),Object(p.jsx)("br",{}),Object(p.jsxs)("b",{children:[" ",n," ","+"," ",l," ","="," ",n+l]})]})}},{label:"Horizontal center of a rectangle",render:function(e,t,i,r,n,c){return Object(p.jsxs)("p",{children:[Object(p.jsx)("b",{children:" rect X + rect width / 2"}),Object(p.jsx)("br",{}),Object(p.jsxs)("b",{children:[" ",r," ","+"," ",c/2," ","="," ",r+c/2]})]})}},{label:"Vertical center of a rectangle",render:function(e,t,i,r,n,c,l){return Object(p.jsxs)("p",{children:[Object(p.jsx)("b",{children:" rect Y + rect height / 2"}),Object(p.jsx)("br",{}),Object(p.jsxs)("b",{children:[" ",n," ","+"," ",l/2," ","="," ",n+l/2]})]})}},{label:"Collision between two rectangles",render:function(e,t,i,r,n,c,l){return Object(p.jsxs)("p",{children:["(the circle is treated as a rectangle)",Object(p.jsx)("br",{}),Object(p.jsxs)("b",{children:["circleLeftSide < rectRightSide",Object(p.jsx)("br",{})," && circleRightSide > rectLeftSide",Object(p.jsx)("br",{})," && circleTopSide < rectBottomSide",Object(p.jsx)("br",{})," && circleBottomSide > rectTopSide"]}),Object(p.jsx)("br",{}),Object(p.jsxs)("b",{children:[e-i," ","<"," ",r+c," && ",e+i," ",">"," ",r," && ",t-i," ","<"," ",n+l," && ",t+i," ",">"," ",n]})," ","="," ",Object(p.jsx)("b",{children:O({x:e,y:t,width:i,height:i},{x:r,y:n,width:c,height:l}).toString()})]})}}];function v(e){var t=e.label,i=e.ariaLabel,r=e.number,n=e.onChange;return Object(p.jsxs)(b.a,{className:"inputs",children:[Object(p.jsx)(b.a.Prepend,{children:Object(p.jsx)(b.a.Text,{id:"basic-addon2",children:t})}),Object(p.jsx)(u.a,{disabled:!1,type:"number",onChange:function(e){n(e)},value:r,"aria-label":i})]})}var w=function(e){Object(s.a)(i,e);var t=Object(o.a)(i);function i(e){var n;return Object(r.a)(this,i),(n=t.call(this,e)).state={formula:0},n}return Object(h.a)(i,[{key:"getProps",value:function(e){var t={};return Object.assign(t,this.props),Object.assign(t,e),t}},{key:"render",value:function(){var e=this,t=this.state.formula,i=this.props,r=i.ballX,n=i.ballY,c=i.ballRadius,l=i.rectX,a=i.rectY,h=i.rectWidth,s=i.rectHeight,o=i.updateProps;return Object(p.jsxs)("div",{id:"app",children:[Object(p.jsx)("div",{id:"header",children:Object(p.jsx)("h1",{children:"Canvas laboratory"})}),Object(p.jsx)("div",{id:"gamePanel",children:Object(p.jsxs)(x.a,{fluid:!0,children:[Object(p.jsxs)(g.a,{id:"inputsRow",children:[Object(p.jsx)(f.a,{children:Object(p.jsx)(j.a,{onSubmit:function(e){e.preventDefault()},children:Object(p.jsxs)(j.a.Group,{children:[Object(p.jsx)(v,{label:"Circle X",ariaLabel:"circle horizontal position",onChange:function(t){o(e.getProps({ballX:parseInt(t.target.value,10)}))},number:r}),Object(p.jsx)(v,{label:"Circle Y",ariaLabel:"circle vertical position",onChange:function(t){o(e.getProps({ballY:parseInt(t.target.value,10)}))},number:n}),Object(p.jsx)(v,{label:"Circle radius",ariaLabel:"circle radius",onChange:function(t){o(e.getProps({ballRadius:parseInt(t.target.value,10)}))},number:c})]})})}),Object(p.jsx)(f.a,{children:Object(p.jsx)(j.a,{onSubmit:function(e){e.preventDefault()},children:Object(p.jsxs)(j.a.Group,{children:[Object(p.jsx)(v,{label:"Rectangle X",ariaLabel:"rectangle horizontal position",onChange:function(t){o(e.getProps({rectX:parseInt(t.target.value,10)}))},number:l}),Object(p.jsx)(v,{label:"Rectangle Y",ariaLabel:"rectangle vertical position",onChange:function(t){o(e.getProps({rectY:parseInt(t.target.value,10)}))},number:a}),Object(p.jsx)(v,{label:"Rectangle width",ariaLabel:"rectangle width",onChange:function(t){o(e.getProps({rectWidth:parseInt(t.target.value,10)}))},number:h}),Object(p.jsx)(v,{label:"Rectangle height",ariaLabel:"rectangle height",onChange:function(t){o(e.getProps({rectHeight:parseInt(t.target.value,10)}))},number:s})]})})})]}),Object(p.jsx)(g.a,{children:Object(p.jsxs)(f.a,{children:[Object(p.jsx)(j.a.Label,{children:"Formulas"}),Object(p.jsx)(j.a.Control,{as:"select",value:y[t].label,onChange:function(t){e.setState({formula:t.target.selectedIndex})},children:y.map((function(e){return Object(p.jsx)("option",{children:e.label})}))}),Object(p.jsx)(d.a,{class:"jumbotron",children:y[t].render(r,n,c,l,a,h,s)})]})})]})})]})}}]),i}(c.a.Component);w.defaultProps={};var m="rect",S="circle",C=function e(t,i,n,c,l,a){Object(r.a)(this,e),this.x=t,this.y=i,this.width=n,this.height=c,this.color=l,this.shape=a,this.dragged=!1,this.hovered=!1,this.dragOffsetX=0,this.dragOffsetY=0,this.collided=!1},L="#FFFFFF",R="#000000",X="#f33d03",Y="#025496",P="#673ab7",T=new C(200,500,400,100,"#c32b20",m),A=new C(400,450,20,20,"#4caf50",S),k=[T,A],I=!1,F=!1,B=document.querySelector("canvas"),W=B.getContext("2d");function E(){a.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(w,{ballX:A.x,ballY:A.y,ballRadius:A.width,rectX:T.x,rectY:T.y,rectWidth:T.width,rectHeight:T.height,updateProps:function(e){A.x=e.ballX,A.y=e.ballY,A.width=e.ballRadius,A.height=e.ballRadius,T.x=e.rectX,T.y=e.rectY,T.width=e.rectWidth,T.height=e.rectHeight,E()}})}),document.getElementById("root"))}function M(e,t){var i=B.getBoundingClientRect(),r=e.clientX-i.x,n=e.clientY-i.y;t.dragged=!0,t.dragOffsetX=r-t.x,t.dragOffsetY=n-t.y}function H(e,t){t.hovered=!0}function q(e,t){t.hovered=!1}function z(e){if("mousemove"===e.type)!function(e){for(var t=0;t<k.length;t++){var i=k[t];if(i.dragged){var r=B.getBoundingClientRect(),n=e.clientX-r.x,c=e.clientY-r.y;i.x=n-i.dragOffsetX,i.y=c-i.dragOffsetY,E()}}}(e);else if("mouseup"===e.type)return void function(){for(var e=0;e<k.length;e++){var t=k[e];t.dragged&&(t.dragged=!1)}}();for(var t=!1,i=k.length-1;i>=0;i--){var r=k[i],n=B.getBoundingClientRect(),c=e.clientX-n.x,l=e.clientY-n.y;(r.shape===m?c>r.x&&c<r.x+r.width&&l>r.y&&l<r.y+r.height:c>r.x-r.width&&c<r.x+r.width&&l>r.y-r.height&&l<r.y+r.height)?(e.targetX=c,e.targetY=l,t||"mousedown"!==e.type?"mousemove"===e.type&&(r.hovered||H(0,r)):(M(e,r),t=!0)):"mousemove"===e.type&&r.hovered&&q(0,r)}}function D(e,t,i,r,n){W.globalAlpha=n,W.beginPath(),W.strokeStyle=R,W.moveTo(e,t),W.lineTo(i,r),W.stroke()}function G(e){if(W.globalAlpha=.9,W.fillStyle=X,W.beginPath(),W.arc(e.x,e.y,5,0,2*Math.PI),W.fill(),F){var t=6*Math.exp(e.width/400);W.font="".concat(t,"pt Arial");var i="x:".concat(e.x),r="y:".concat(e.y),n=W.measureText(i).width,c=W.measureText(r).width,l=t,a=e.x>=Math.max(n,c)+10&&e.y>=2*l+30;W.fillStyle=a?X:"#000000",W.lineWidth=.5,W.fillText(i,a?e.x-n-10:e.x+10,a?e.y-2*l-10:e.y+l+10),W.fillText(r,a?e.x-c-10:e.x+10,a?e.y-l:e.y+2*l+20),W.lineWidth=1}}function J(e){W.globalAlpha=1,W.strokeStyle=Y,W.strokeRect(e.x,e.y,e.width,e.height)}function N(e){var t=6*Math.exp(e.width/400);W.globalAlpha=1,W.font="".concat(t,"pt Arial"),W.fillStyle=Y;var i=e.width,r=W.measureText(i).width,n=t;W.strokeStyle="#000000",W.lineWidth=.5,W.fillText(i,e.x>=r+10?e.x-r-10:e.x+e.width+10,e.y+e.height/2+n/2);var c=e.height,l=t,a=W.measureText(c).width;W.fillText(c,e.x+e.width/2-a/2,e.y>=l+10?e.y-10:e.y+e.height+l+10),W.lineWidth=1}function V(e){e.shape===m?(W.globalAlpha=.9,W.fillStyle=e.collided?P:e.color,W.fillRect(e.x,e.y,e.width,e.height),e.hovered&&(J({x:e.x,y:e.y,width:e.width,height:e.height}),I&&N({x:e.x,y:e.y,width:e.width,height:e.height}),G({x:e.x,y:e.y,width:e.width,height:e.height}))):(W.globalAlpha=.9,W.fillStyle=e.color,W.beginPath(),W.arc(e.x,e.y,e.width,0,2*Math.PI),W.fill(),e.hovered&&(J({x:e.x-e.width,y:e.y-e.height,width:2*e.width,height:2*e.height}),I&&N({x:e.x-e.width,y:e.y-e.height,width:2*e.width,height:2*e.height}),G({x:e.x,y:e.y,width:2*e.width,height:2*e.height})))}B.addEventListener("mousedown",z),B.addEventListener("mouseup",z),B.addEventListener("mousemove",z),window.addEventListener("keydown",(function(e){"ShiftLeft"===e.code?I=!0:"ControlLeft"===e.code&&(F=!0)})),window.addEventListener("keyup",(function(e){"ShiftLeft"===e.code?I=!1:"ControlLeft"===e.code&&(F=!1)})),requestAnimationFrame((function e(){W.globalAlpha=1,W.clearRect(0,0,800,600),W.globalAlpha=1,W.fillStyle=L,W.fillRect(0,0,800,600),function(){for(var e=B.width/10,t=B.height/10,i=!1,r=0;r<t;r++)if(i=r%10===0,D(0,10*r,B.width,10*r,i?1:.1),i){W.font="".concat(5,"pt Arial"),W.fillStyle=R;var n=10*r;W.fillText(n,5,10*r+5+5)}for(var c=0;c<e;c++)if(i=c%10===0,D(10*c,0,10*c,B.height,c%10===0?1:.1),c>0&&i){W.font="".concat(5,"pt Arial"),W.fillStyle=R;var l=10*c;W.fillText(l,10*c+5,10)}}(),function(){for(var e=0;e<k.length;e++){for(var t=k[e],i=!1,r=0;r<k.length;r++){var n=k[r];if(t!==n){var c=t.shape===m?t.x:t.x-t.width,l=t.x+t.width,a=t.shape===m?t.y:t.y-t.height,h=t.y+t.height,s=n.shape===m?n.x:n.x-n.width,o=n.x+n.width,d=n.shape===m?n.y:n.y-n.height,b=n.y+n.height;if(c<o&&l>s&&a<b&&h>d){i=!0;break}}}t.collided=i}}(),function(){for(var e=0;e<k.length;e++)V(k[e])}(),requestAnimationFrame(e)})),E()}},[[35,1,2]]]);
//# sourceMappingURL=main.53323329.chunk.js.map